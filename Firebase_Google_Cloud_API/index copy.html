<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Seat Map - GHL Integration</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .seat-map-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(135deg, #1e293b 0%, #7c3aed 50%, #1e293b 100%);
            border-radius: 16px;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .seat-map-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .seat-map-header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .seat-map-header p {
            color: #d1d5db;
            font-size: 1.1rem;
        }

        .venue-container {
            position: relative;
            width: 100%;
            height: 600px;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .octagon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 80px;
            background: #dc2626;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(220, 38, 38, 0.5);
            z-index: 10;
        }

        .octagon-text {
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 10px;
        }

        .seat {
            position: absolute;
            width: 24px;
            height: 24px;
            border-radius: 6px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }

        .seat:hover {
            transform: scale(1.2);
            border-color: white;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            z-index: 20;
        }

        .seat.vip {
            background: #ec4899;
            border-color: #f472b6;
        }

        .seat.premium {
            background: #10b981;
            border-color: #34d399;
        }

        .seat.standard {
            background: #6b7280;
            border-color: #9ca3af;
        }

        .seat.unavailable {
            background: #dc2626 !important;
            border-color: #ef4444 !important;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .seat.selected {
            background: #16a34a !important;
            border-color: #22c55e !important;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.7);
        }

        .section-label {
            position: absolute;
            color: #d1d5db;
            font-size: 12px;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }

        .entrance-label {
            position: absolute;
            color: #9ca3af;
            font-size: 10px;
            writing-mode: vertical-lr;
            text-orientation: mixed;
        }

        .controls-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .legend {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .legend h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #fff;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .legend-seat {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            margin-right: 10px;
        }

        .product-panel {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .product-panel h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #fff;
        }

        .product-details {
            background: rgba(51, 65, 85, 0.8);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .product-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: #fff;
        }

        .product-info {
            color: #d1d5db;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .product-price {
            color: #10b981;
            font-weight: bold;
            font-size: 1.3rem;
        }

        .purchase-btn {
            width: 100%;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .purchase-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .purchase-btn:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            border-radius: 6px;
            font-size: 12px;
            pointer-events: none;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .no-selection {
            text-align: center;
            color: #9ca3af;
            padding: 40px 20px;
        }

        @media (max-width: 768px) {
            .controls-container {
                grid-template-columns: 1fr;
            }
            
            .venue-container {
                height: 400px;
            }
            
            .seat {
                width: 20px;
                height: 20px;
                font-size: 8px;
            }
            
            .octagon {
                width: 80px;
                height: 60px;
            }
        }
    </style>
</head>
<body>
    <div class="seat-map-container">
        <div class="seat-map-header">
            <h1>REAL FIGHT PROMOTIONS</h1>
            <p>Select your seat and complete purchase through Go High Level</p>
        </div>

        <div class="venue-container" id="venueContainer">
            <div class="octagon">
                <div class="octagon-text">REAL FIGHT<br>PROMOTIONS</div>
            </div>

            <!-- Section Labels -->
            <div class="section-label" style="top: 20px; left: 20px;">Sec 8</div>
            <div class="section-label" style="top: 120px; left: 20px;">Sec 9</div>
            <div class="section-label" style="top: 420px; left: 20px;">Sec 10</div>
            <div class="section-label" style="top: 30px; left: 50%; transform: translateX(-50%);">Sec 6</div>
            <div class="section-label" style="top: 30px; right: 20px;">Sec 5</div>
            <div class="section-label" style="top: 100px; right: 20px;">Sec 4</div>
            <div class="section-label" style="top: 180px; right: 20px;">Sec 3</div>
            <div class="section-label" style="top: 260px; right: 20px;">Sec 2</div>
            <div class="section-label" style="top: 380px; right: 20px;">Sec 1</div>
            <div class="section-label" style="bottom: 30px; left: 50%; transform: translateX(-50%);">Sec 12</div>
            <div class="section-label" style="bottom: 30px; right: 30%;">Sec 13</div>
            <div class="section-label" style="bottom: 60px; left: 30%;">Sec 11</div>

            <!-- Entrance Labels -->
            <div class="entrance-label" style="top: 50%; left: 5px; transform: translateY(-50%);">
                Fighter Entrance
            </div>
            <div class="entrance-label" style="top: 50%; right: 5px; transform: translateY(-50%);">
                Lobby Entrance
            </div>
        </div>

        <div class="controls-container">
            <div class="legend">
                <h3>üó∫Ô∏è Seat Legend</h3>
                <div class="legend-item">
                    <div class="legend-seat vip"></div>
                    <span>VIP Seats ($199-$399)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-seat premium"></div>
                    <span>Premium Seats ($199)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-seat standard"></div>
                    <span>Standard Seats ($79-$149)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-seat selected"></div>
                    <span>Selected Seat</span>
                </div>
                <div class="legend-item">
                    <div class="legend-seat unavailable"></div>
                    <span>Unavailable</span>
                </div>
            </div>

            <div class="product-panel">
                <h3>üé´ Product Details</h3>
                <div id="productDisplay">
                    <div class="no-selection">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üéØ</div>
                        <p>Click on a seat to view product details</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // GHL Product Configuration
        // Replace these with your actual GHL product IDs and details
        const GHL_PRODUCTS = {
            '1': { id: 'ghl_product_001', name: 'Center Section - Seat 1', price: 149, description: 'Premium center view' },
            '2': { id: 'ghl_product_002', name: 'Center Section - Seat 2', price: 149, description: 'Premium center view' },
            '3': { id: 'ghl_product_003', name: 'Center Section - Seat 3', price: 149, description: 'Premium center view' },
            '4': { id: 'ghl_product_004', name: 'VIP Center - Seat 1', price: 399, description: 'Ultimate VIP experience' },
            '5': { id: 'ghl_product_005', name: 'VIP Center - Seat 2', price: 399, description: 'Ultimate VIP experience' },
            '6': { id: 'ghl_product_006', name: 'Section 6 - Row 2 Seat 1', price: 139, description: 'Great ring view' },
            '7': { id: 'ghl_product_007', name: 'Section 6 - Row 2 Seat 2', price: 139, description: 'Great ring view' },
            '8': { id: 'ghl_product_008', name: 'VIP Center - Seat 3', price: 399, description: 'Ultimate VIP experience' },
            '9': { id: 'ghl_product_009', name: 'Center Section - Row 3 Seat 1', price: 129, description: 'Excellent view' },
            '10': { id: 'ghl_product_010', name: 'Center Section - Row 3 Seat 2', price: 129, description: 'Excellent view' },
            // Add more products as needed...
            '53': { id: 'ghl_product_053', name: 'Section 6 - VIP Row A Seat 1', price: 299, description: 'VIP section experience' },
            '54': { id: 'ghl_product_054', name: 'Section 6 - VIP Row A Seat 2', price: 299, description: 'VIP section experience' },
            '55': { id: 'ghl_product_055', name: 'Section 6 - VIP Row A Seat 3', price: 299, description: 'VIP section experience' },
            '56': { id: 'ghl_product_056', name: 'Section 6 - VIP Row A Seat 4', price: 299, description: 'VIP section experience' },
        };

        // Seat configuration with positions
        const SEAT_CONFIG = [
            // VIP Seats (Pink)
            { id: '53', type: 'vip', x: '52%', y: '20%' },
            { id: '54', type: 'vip', x: '48%', y: '20%' },
            { id: '55', type: 'vip', x: '44%', y: '20%' },
            { id: '56', type: 'vip', x: '40%', y: '20%' },
            { id: '4', type: 'vip', x: '65%', y: '45%' },
            { id: '5', type: 'vip', x: '50%', y: '45%' },
            { id: '8', type: 'vip', x: '30%', y: '48%' },
            
            // Premium Seats (Green)
            { id: '29', type: 'premium', x: '38%', y: '35%' },
            { id: '30', type: 'premium', x: '35%', y: '40%' },
            { id: '22', type: 'premium', x: '70%', y: '45%' },
            { id: '50', type: 'premium', x: '75%', y: '40%' },
            { id: '51', type: 'premium', x: '75%', y: '35%' },
            { id: '52', type: 'premium', x: '70%', y: '25%' },
            
            // Standard Seats (Gray)
            { id: '1', type: 'standard', x: '65%', y: '60%' },
            { id: '2', type: 'standard', x: '65%', y: '65%' },
            { id: '3', type: 'standard', x: '65%', y: '55%' },
            { id: '6', type: 'standard', x: '45%', y: '30%' },
            { id: '7', type: 'standard', x: '42%', y: '30%' },
            { id: '9', type: 'standard', x: '35%', y: '60%' },
            { id: '10', type: 'standard', x: '35%', y: '65%' },
            { id: '11', type: 'standard', x: '35%', y: '70%' },
            { id: '12', type: 'standard', x: '32%', y: '80%' },
            { id: '13', type: 'standard', x: '42%', y: '80%' },
            { id: '14', type: 'standard', x: '45%', y: '80%' },
            { id: '15', type: 'standard', x: '48%', y: '80%' },
            { id: '16', type: 'standard', x: '58%', y: '80%' },
            { id: '17', type: 'standard', x: '70%', y: '75%' },
            { id: '18', type: 'standard', x: '70%', y: '70%' },
            { id: '19', type: 'standard', x: '70%', y: '65%' },
            { id: '20', type: 'standard', x: '70%', y: '60%' },
            { id: '21', type: 'standard', x: '70%', y: '50%' },
            { id: '23', type: 'standard', x: '65%', y: '35%' },
            { id: '24', type: 'standard', x: '52%', y: '30%' },
            { id: '25', type: 'standard', x: '48%', y: '30%' },
            { id: '26', type: 'standard', x: '44%', y: '30%' },
            { id: '27', type: 'standard', x: '40%', y: '30%' },
            { id: '28', type: 'standard', x: '36%', y: '30%' },
            { id: '31', type: 'standard', x: '25%', y: '50%' },
            { id: '32', type: 'standard', x: '25%', y: '60%' },
            { id: '33', type: 'standard', x: '25%', y: '65%' },
            { id: '34', type: 'standard', x: '25%', y: '70%' },
            { id: '35', type: 'standard', x: '25%', y: '75%' },
        ];

        // Track unavailable seats (these would come from your GHL inventory API)
        let unavailableSeats = ['12', '25', '19']; // Example sold seats
        let selectedSeat = null;

        // Initialize seat map
        function initializeSeatMap() {
            const venueContainer = document.getElementById('venueContainer');
            
            SEAT_CONFIG.forEach(seatConfig => {
                const seat = document.createElement('div');
                seat.className = `seat ${seatConfig.type}`;
                seat.id = `seat-${seatConfig.id}`;
                seat.style.left = seatConfig.x;
                seat.style.top = seatConfig.y;
                seat.textContent = seatConfig.id;
                
                if (unavailableSeats.includes(seatConfig.id)) {
                    seat.classList.add('unavailable');
                }
                
                seat.addEventListener('click', () => handleSeatClick(seatConfig.id));
                seat.addEventListener('mouseenter', (e) => showTooltip(e, seatConfig.id));
                seat.addEventListener('mouseleave', hideTooltip);
                
                venueContainer.appendChild(seat);
            });
        }

        // Handle seat click
        function handleSeatClick(seatId) {
            if (unavailableSeats.includes(seatId)) return;
            
            // Remove previous selection
            if (selectedSeat) {
                document.getElementById(`seat-${selectedSeat}`).classList.remove('selected');
            }
            
            // Select new seat
            selectedSeat = seatId;
            document.getElementById(`seat-${seatId}`).classList.add('selected');
            
            // Display product details
            displayProductDetails(seatId);
        }

        // Display product details
        function displayProductDetails(seatId) {
            const product = GHL_PRODUCTS[seatId];
            const productDisplay = document.getElementById('productDisplay');
            
            if (!product) {
                productDisplay.innerHTML = `
                    <div class="no-selection">
                        <div style="font-size: 2rem; margin-bottom: 10px;">‚ùå</div>
                        <p>Product not available for seat ${seatId}</p>
                    </div>
                `;
                return;
            }
            
            productDisplay.innerHTML = `
                <div class="product-details">
                    <div class="product-title">${product.name}</div>
                    <div class="product-info">Seat Number: ${seatId}</div>
                    <div class="product-info">${product.description}</div>
                    <div class="product-price">$${product.price}</div>
                </div>
                <button class="purchase-btn" onclick="purchaseProduct('${seatId}')">
                    Purchase Now - $${product.price}
                </button>
            `;
        }

        // Purchase product (integrate with GHL)
        async function purchaseProduct(seatId) {
            const product = GHL_PRODUCTS[seatId];
            if (!product) return;
            
            const btn = document.querySelector('.purchase-btn');
            btn.disabled = true;
            btn.innerHTML = '<div class="loading"></div> Processing...';
            
            try {
                // Method 1: Direct redirect to GHL product page
                // Replace with your actual GHL product URL structure
                const ghlProductUrl = `https://your-ghl-domain.com/product/${product.id}`;
                
                // Method 2: Use GHL API to create order (requires API setup)
                // const response = await createGHLOrder(product.id, seatId);
                
                // Method 3: Use GHL webhook/form submission
                // submitToGHLForm(product, seatId);
                
                // For demo - redirect to product page
                window.open(ghlProductUrl, '_blank');
                
                // Mark seat as unavailable after successful purchase initiation
                setTimeout(() => {
                    markSeatUnavailable(seatId);
                    resetSelection();
                }, 2000);
                
            } catch (error) {
                console.error('Purchase failed:', error);
                alert('Purchase failed. Please try again.');
            } finally {
                btn.disabled = false;
                btn.innerHTML = `Purchase Now - $${product.price}`;
            }
        }

        // Mark seat as unavailable
        function markSeatUnavailable(seatId) {
            unavailableSeats.push(seatId);
            const seatElement = document.getElementById(`seat-${seatId}`);
            seatElement.classList.add('unavailable');
            seatElement.classList.remove('selected');
            
            // You would typically update this in your backend/GHL
            updateGHLInventory(seatId);
        }

        // Reset selection
        function resetSelection() {
            selectedSeat = null;
            document.getElementById('productDisplay').innerHTML = `
                <div class="no-selection">
                    <div style="font-size: 2rem; margin-bottom: 10px;">üéØ</div>
                    <p>Click on a seat to view product details</p>
                </div>
            `;
        }

        // Show tooltip
        function showTooltip(e, seatId) {
            const product = GHL_PRODUCTS[seatId];
            if (!product) return;
            
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            tooltip.id = 'seat-tooltip';
            tooltip.innerHTML = `
                <strong>${product.name}</strong><br>
                Seat: ${seatId}<br>
                Price: $${product.price}
            `;
            
            tooltip.style.left = e.pageX + 10 + 'px';
            tooltip.style.top = e.pageY - 10 + 'px';
            
            document.body.appendChild(tooltip);
        }

        // Hide tooltip
        function hideTooltip() {
            const tooltip = document.getElementById('seat-tooltip');
            if (tooltip) {
                tooltip.remove();
            }
        }

        // GHL Integration Functions
        function updateGHLInventory(seatId) {
            // Implement GHL API call to update product inventory
            // This would typically be done server-side
            console.log(`Updating GHL inventory for seat ${seatId}`);
        }

        function createGHLOrder(productId, seatId) {
            // Implement GHL API order creation
            // This requires GHL API credentials and proper authentication
            console.log(`Creating GHL order for product ${productId}, seat ${seatId}`);
        }

        function submitToGHLForm(product, seatId) {
            // Alternative: Submit to a GHL form that processes the order
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = 'https://your-ghl-webhook-url.com/purchase';
            
            const fields = {
                product_id: product.id,
                seat_id: seatId,
                price: product.price,
                name: product.name
            };
            
            Object.keys(fields).forEach(key => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = fields[key];
                form.appendChild(input);
            });
            
            document.body.appendChild(form);
            form.submit();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initializeSeatMap);

        // Refresh inventory periodically (optional)
        setInterval(() => {
            // Check GHL for updated seat availability
            // refreshInventory();
        }, 30000); // Check every 30 seconds
    </script>
</body>
</html>